---
title: OSC-Chapter 1-2
tags: 操作系统
categories: 课程学习
---

<font face="微软雅黑"></font>
<center>导论、操作系统结构 </center>

<!-- more -->

<!-- TOC -->

- [导论](#%e5%af%bc%e8%ae%ba)
- [操作系统结构](#%e6%93%8d%e4%bd%9c%e7%b3%bb%e7%bb%9f%e7%bb%93%e6%9e%84)

<!-- /TOC -->
# 导论
**操作系统**是一直运行在计算机上的程序（通常称为内核）。为程序和用户分配资源，使用户使用方便。
**引导程序**一般位于计算机的固件，如ROM或EEOROM（Electrically Erasable Programable Read-Only Memory)。
事件的发生通常通过硬件或软件的中断来通知。硬件通过系统总线发送信号到CPU，以触发中断；软件通过系统调用（也称为监督程序调用）以触发中断。
CPU只能从内存中加载指令，因此执行程序必须位于内存中。通用计算机运行的大多数程序位于可读内存，一般为**动态随机访问内存（DRAM）**。

 <img  src="https://raw.githubusercontent.com/tiandaochouqin1/Sources/main/images/StorageDevices.jpg" alt="存储设备结构" width=350   align=center >  
  
操作系统的大部分代码用于I/O管理。**设备驱动程序**负责设备控制器，并为操作系统的其他部分提供统一的设备访问接口。

**多处理器系统**：1.增加吞吐量；2.规模经济；2.增加可靠性：适度退化和容错。

**对称多处理系统**（SMP）：每个处理器都参与完成操作系统的所有任务。所有处理器对等，无主从关系。
集群计算机共享存储，并且采用LAN连接或更快的内部连接。

**多道程序设计**通过安排作业（编码和数据）使得CPU总有一个执行作业，从而提高CPU利用率。
**分时系统**作业切换频率很高，用户可以在程序运行时与其交互。
**虚拟内存**允许一个执行程序不必完全在内存中，用户可执行比物理内存大的程序。

现代操作系统是**中断驱动**的，事件总是由中断或陷阱引起的。

**双重模式：**用户模式和内核模式（监视模式、系统模式、特权模式）。双重模式提供保护手段，以便防止操作系统和用户程序受到错误用户程序的影响。
定时器设置为在指定周期后中断计算机。当定时器中断时，控制自动转到操作系统，而操作出台可以将中断作为致命错误来处理。可以防止用户程序运行过长。
***
程序是个被动实体，如同存储在磁盘上的文件内容，而进程是个主动实体。单线程进程有一个程序计数器，指定了下一个所要执行的指令。多线程进程具有多个程序计数器。
进程是操作系统的基本工作单元。
操作系统负责**进程管理**的以下活动：
* 在CPU上调度进程和线程；
* 创建和删除用户进程和系统进程；
* 挂起和重启进程；
* 提供进程同步机制；
* 提供进程通信机制。

**内存**一般是CPU所能直接寻址和访问的、唯一的、大容量存储器。通常是易失性存储。如果一个程序要执行，那么它就要映射到绝对地址，并且加载到内存。
操作系统对存储设备的物理性质进行了抽象，并定义了逻辑存储单元，即**文件**。操作系统映射文件到物理媒介，并通过存储设备来访问文件。
**高速缓存**是计算机系统的一项重要原理。它的工作原理如下：信息通常保存在一个存储系统中（如内存），使用时，它会被临时复制到更快的存储系统，即高速缓存；当需要特定信息时，首先检查它是否处于高速缓存，如果是，可以直接使用高速缓存的信息，如果否，就使用位于源地的信息，同时将其复制到高速缓存以便下次再用。慎重选择高速缓存的大小和置换策略可以极大地提高性能。
操作系统的目的之一是为用户隐藏具体硬件设备的特性。I/O子系统为操作系统本身隐藏了I/O设备的特性。
I/O子系统包括了以下几个组件：
* 包括缓冲、高速缓存和假脱机的内存管理组件；
* 设备驱动器的通用接口；
* 特定硬件设备的的驱动程序。
设备驱动器才知道控制设备的特性。
**保护**是一种机制，用于控制进程或用户访问计算机系统的资源。

# 操作系统结构
 
 <img  src="https://raw.githubusercontent.com/tiandaochouqin1/Sources/main/images/SysSevice.jpg" alt="操作系统服务" width=500   align=center > 
用户界面：图形用户界面、命令行和批处理；
程序执行；I/O操作；文件系统操作；通信；错误检测；资源分配；记账；保护和安全。

用户与操作系统的界面：命令解释程序；图形用户界面；系统调用。

系统调用提供操作系统服务接口。

**系统调用的类型**：进程控制、文件管理、设备管理、信息维护、通信和保护。
操作系统的设计与实现：
设计目标：用户目标和系统目标。
重要原则：策略和机制的分离。机制决定如何做，策略决定做什么。
采用高级语言实现操作系统的优势：代码编写更快、更为紧凑、更容易理解和调试，更容易移植。
**操作系统的结构**：
简单结构：系统调用接口之下和物理硬件之上的所有部分为内核。性能优势：系统调用和内核通信的开销非常小。
分层结构：每层只能调用更底层的功能和服务。简化了构造和调试。
微内核：对内核进行模块化，删除不必要的部件，而将它们当做系统级与用户级的程序来实现。其主要功能是为客户端程序和运行在用户空间中的各种服务提供通信。其优点是便于扩展操作系统。
模块：采用可加载的内核模块。内核提供核心服务，而其他服务可在内核运行时动态实现。

系统引导：加载内核以启动计算机的过程。
引导程序：定位内核，并加载到内存中以开始执行。
